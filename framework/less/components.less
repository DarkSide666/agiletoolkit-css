// ==========================================================
// Components
// ==========================================================

// Text
.atk-text-dimmed {
    color: lighten(@bodyColor, 40%);
}
.atk-text-nowrap {
    white-space: nowrap;
}
.atk-text-reset {
    .clear-font;
}

// Pushes
.atk-push-small {
    margin-bottom: @margin/2;
    &:last-child {
        margin-bottom: 0;
    }
}
.atk-push {
    margin-bottom: @margin;
    &:last-child {
        margin-bottom: 0;
    }
}
.atk-push-large {
   margin-bottom: @margin*2;
    &:last-child {
        margin-bottom: 0;
    }
}

// Paddings
.atk-padding-small {
    padding: @margin/2;
}
.atk-padding {
    padding: @margin;
}
.atk-padding-large {
    padding: @margin*2;
}
.atk-padding-reset {
    padding: 0;
}

// Sections
.atk-section-small {
    padding: @margin/2 0;
}
.atk-section {
    padding: @margin 0;
}
.atk-section-large {
    padding: @margin*2 0;
}

// Item List
.atk-actions {
    >* {
        + * {
            margin-left: (0.5em * @baselineDestroyer);
        }
        &.atk-sep + * {
            margin-left: 0;
        }
    }
}
.atk-sep {
    margin-left: @margin/3 !important;
    margin-right: @margin/3 !important;
}

// Layout
.atk-wrapper {
    margin-left: auto;
    margin-right: auto;
    width: @siteWidth !important;
}
.atk-cells {
    display:table;
    width: 100%;
    >.atk-cell {
        display: table-cell;
        vertical-align: middle;
    }
    &.atk-cells-gutter-large>.atk-cell + .atk-cell {
        padding-left: (2em * @baselineDestroyer);
    }
    &.atk-cells-gutter>.atk-cell + .atk-cell {
        padding-left: (1em * @baselineDestroyer);
    }
    &.atk-cells-gutter-small>.atk-cell + .atk-cell {
        padding-left: (0.5em * @baselineDestroyer);
    }
    &.atk-cells-justified {
        table-layout: fixed;
    }
}


// Buttons
a,
button,
input {
    &[class*='atk-button'], &.ui-button {
        .border-radius(@cornerRadius);
        .stateDefault;
        display: inline-block;
        font-weight: bold;
        line-height: @bodyBaseline;
        padding: (0.5em * @baselineDestroyer) (1em * @baselineDestroyer);
        &:hover {
            .stateHover;
        }
        &.atk-button-small {
            padding: (0.25em * @baselineDestroyer) (0.5em * @baselineDestroyer);
        }
        &.atk-button-large {
            padding: (0.75em * @baselineDestroyer) (1.5em * @baselineDestroyer);
        }
        &.atk-button-blank {
            .buttonBlank;
        }
        &.atk-button-outline {
            .buttonOutline;
        }
        *[class*='atk-menu'] & {
            .border-radius(0);
        }
        .atk-menu-horizontal & {
            &:first-child {
                .border-left-radius(@cornerRadius);
            }
            &:last-child {
                .border-right-radius(@cornerRadius);
            }
            + *[class*='atk-button'] {
                border-left: none;
            }
        }
        .atk-menu-vertical & {
            &:first-child {
                .border-top-radius(@cornerRadius);
            }
            &:last-child {
                .border-bottom-radius(@cornerRadius);
            }
            + *[class*='atk-button'] {
                border-top: none;
            }
        }
    }
}
.atk-button-blank {
    .buttonBlank;
}
.buttonBlank() {
    background: none !important;
    border-color: transparent !important;
    box-shadow: none !important;
}
.buttonOutline() {
    background: none;
    border-color: #fff;
    box-shadow: none !important;
    color: #fff !important;
}
*[class*=atk-menu] {
    >* {
        display: inline-block;
        &[class*='atk-button'] {
            .box-sizing(content-box);
            min-width: 1em;
        }
        &.atk-cells {
            .atk-label {
                .box-sizing(content-box);
                display: inline-block;
                height: 1em * @bodyBaseline;
                margin: 0 .2em;
                min-width: 1em * @bodyBaseline;
                padding: 0;
                text-align: center;
                &[class*='icon']:before {
                    margin: 0;
                }
            }
        }
    }
    &.atk-menu-horizontal {
        >* {
            text-align: center;
            *[class*='icon']:before {
                margin: 0;
            }
        }
    }
    &.atk-menu-vertical {
        display: block;
        >* {
            display: block;
            text-align: left;
        }
    }
}


// Box
*[class*=atk-box] {
    &, &[class*=span] {
        .border-radius(@cornerRadius);
        background: @colorLight;
        border: 1px solid @borderStatic;
        padding: @margin;
        margin-bottom: @margin;
        >h1, >h2, >h3, >h4, >h5, >h6 {
            &:first-child {
                margin-top: 0;
            }
        }
        &.atk-box-small {
            padding: @margin/2;
        }
        &.atk-box-large {
            padding: @margin*2;
        }
        &:last-child {
            margin-bottom: 0;
        }
    }
}

// Label
.atk-label {
    .border-radius(@cornerRadius);
    font-weight: bold;
    // padding: (0.2em * @baselineDestroyer) (0.4em * @baselineDestroyer);
    padding: (0.2em * @baselineDestroyer) (0.4em * @baselineDestroyer);
}

// Helpers
.atk-inline {
    display: inline-block;
}
.atk-jackscrew {
    width: 100%;
}
.atk-clear-fix {
    .clear-fix;
}

// Positioning
.atk-move-left {
    float: left;
}
.atk-move-center {
    margin-left: auto !important;
    margin-right: auto !important;
    &.atk-button {
        display: block;
    }
}
.atk-move-right {
    float: right;
}

// Alignment
.atk-align-left {
    text-align: left;
}
.atk-align-right {
    text-align: right;
}
.atk-align-center {
    text-align: center;
}

.atk-valign-top {
    vertical-align: top !important;
}
.atk-valign-middle {
    vertical-align: middle !important;
}
.atk-valign-baseline {
    vertical-align: baseline !important;
}
.atk-valign-bottom {
    vertical-align: bottom !important;
}

// Shapes
.atk-shape-rectangle {
    border-radius: 0;
}
.atk-shape-rounded {
    &, img& {
        .border-radius(@cornerRadius);
    }
}
.atk-shape-circle {
    &, img& {
        .border-radius(50%);
    }
}


// ==========================================================
// Colors
// ==========================================================

.colorCheck (@a) when (luma(@a) >= @swatchText) {
  color: black;
}
.colorCheck (@a) when (luma(@a) < @swatchText) {
  color: white;
}

// Swatches
.createSwatch(@color) {
    .@{color} {
        & {
            .colorCheck(@@color);
            background: @@color;
            border-color: @@color;
            hr {
                border-color: #000;
            }
            &, a, h1, h2, h3, h4, h5, h6 {
                .colorCheck(@@color);
            }
            &[class*=icon-] {
                background: none;
                color: @@color;
                &[class*=atk-shape] {
                    .colorCheck(@@color);
                    background: @@color;
                }
            }
            a&:hover, &[class*=atk-button]:hover {
                .colorCheck(@@color);
                background: lighten(@@color, 5%);
            }
        }
        &[class*='atk-button'], &.atk-label, .atk-table td&, .atk-table th& { 
            .colorCheck(@@color);
            background: @@color;
            border-color: @@color;
        }
        &[class*='atk-button'] {
            border-color: darken(@@color, 10%);
            &:hover {
                border-color: darken(@@color, 10%);
            }
        }
    }
}

// Effects
*[class*=atk-effect] {
    &, &[class*='atk-button'] {
        &.atk-effect-danger {
            color: @effectDanger;
        }
        &.atk-effect-warning {
            color: @effectWarning;
        }
        &.atk-effect-success {
            color: @effectSuccess;
        }
        &.atk-effect-info {
            color: @effectInfo;
        }
    }
    &.atk-label, &[class*=atk-box] {
        color: @bodyColor;
        &.atk-effect-danger {
            @color: tint(@effectDanger, 80%);
            background: @color;
            border-color: @color;
        }
        &.atk-effect-warning {
            @color: tint(@effectWarning, 80%);
            background: @color;
            border-color: @color;
        }
        &.atk-effect-success {
            @color: tint(@effectSuccess, 80%);
            background: @color;
            border-color: @color; 
        }
        &.atk-effect-info {
            @color: tint(@effectInfo, 80%);
            background: @color;
            border-color: @color;
        }
    }
}

// States
.stateDefault() {
    .box-shadow(0 1px 0 rgba(0,0,0,0.07));
    background: @stateDefault;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}
.stateHover() {
    background: @stateHover;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}
.stateActive() {
    background: @stateActive;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}