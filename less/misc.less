// ==========================================================
// Mass Effect
// ==========================================================

* { 
   -webkit-box-sizing: border-box; 
   -moz-box-sizing: border-box; 
   box-sizing: border-box;
   &:last-child {
        margin-bottom: 0;
   }
}

// This part should be rewised
.atk-form, p {
  &:last-child {
    margin-bottom: 0;
  }
}

body {
    background: @bodyBackground;
}


// ==========================================================
// Selection Colors
// ==========================================================

::selection {
    background: @textSelect;
    .colorCheck(@textSelect);
}
::-moz-selection {
    background: @textSelect;
    .colorCheck(@textSelect);
}
img::selection {
    background: transparent;
}
img::-moz-selection {
    background: transparent;
}
body {
    -webkit-tap-highlight-color: @textSelect;
}


// ==========================================================
// Styling
// ==========================================================

a {
    color: @linkColor;
    text-decoration: none;
    &:hover, &:focus{
        color: @linkColorHover;
    }
}


// Helpers
.atk-jackscrew {
    width: 100%;
}

// Clearers
.atk-clear-fix {
    .clear-fix;
}

// Object Positioning
.atk-move-left {
    float: left;
}
.atk-move-center {
    margin-left: auto !important;
    margin-right: auto !important;
    &.atk-button {
        display: block;
    }
}
.atk-move-right {
    float: right;
}

// Horizontal Alignment
.atk-align-left {
    text-align: left;
}
.atk-align-right {
    text-align: right;
}
.atk-align-center {
    text-align: center;
}

// Vertical Alignment
.atk-valign-top {
    vertical-align: top !important;
}
.atk-valign-middle {
    vertical-align: middle !important;
}
.atk-valign-baseline {
    vertical-align: baseline !important;
}
.atk-valign-bottom {
    vertical-align: bottom !important;
}


// Shapes
.atk-shape-rectangle {
    border-radius: 0;
}
.atk-shape-rounded {
    &, img& {
        .border-radius(@cornerRadius);
    }
}
.atk-shape-circle {
    &, img& {
        .border-radius(50%);
    }
}
// .atk-shape-diamond {
//     &, img& {
//         .rotate(-45deg);
//         .transform-origin(50% 50%)
//     }
// }


// States
.stateDefault() {
    .box-shadow(0 1px 0 rgba(0,0,0,0.1));
    background: @stateDefault;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}
.stateHover() {
    background: @stateHover;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}
.stateActive() {
    background: @stateActive;
    border: 0.1em solid @borderClickable;
    color: @bodyColor;
}


// ==========================================================
// Colors
// ==========================================================

.colorCheck (@a) when (lightness(@a) >= @swatchText) {
  color: black;
}
.colorCheck (@a) when (lightness(@a) < @swatchText) {
  color: white;
}

.createSwatch(@color) {
    .@{color} {
        &, &.atk-button[class*=atk-swatch], &.atk-label[class*=atk-swatch] {
            .colorCheck(@@color);
            background: @@color;
            border-color: @@color;
            hr {
                background-color: #000;
            }
            &, a, h1, h2, h3, h4, h5, h6 {
                .colorCheck(@@color);
            }
            &[class*=icon-] {
                background: none;
                color: @@color;
                &[class*=atk-shape] {
                    .colorCheck(@@color);
                    background: @@color;
                }
            }
        }
        &.atk-button:hover {
            background: lighten(@@color, 5%);
        }
    }
}
*[class*=atk-effect] {
    &.atk-effect-danger {
        background: @effectDanger;
    }
    &.atk-effect-warning {
        background: @effectWarning;
    }
    &.atk-effect-success {
        background: @effectSuccess;
    }
    &.atk-effect-info {
        background: @effectInfo;
    }
    &.atk-button {
        &.atk-effect-danger {
            .stateDefault;
            color: red;
        }
    }
}


// ==========================================================
// jQueryUI
// ==========================================================

// Components
.ui-corner-all {
    .border-radius(@cornerRadius);
}
.ui-state-default {
    &, a:link, a:visited {
        color: @bodyColor;
    }
    &,
    .ui-widget-content &,
    .ui-widget-header & {
        .stateDefault;
        &.ui-state-hover {
            .stateHover;
        }
        &.ui-state-active, &.ui-state-focus {
            .stateActive;
        }
    }
}
.ui-state-hover,
.ui-widget-content .ui-state-hover,
.ui-widget-header .ui-state-hover,
.ui-state-focus,
.ui-widget-content .ui-state-focus,
.ui-widget-header .ui-state-focus {
    background: #eee;
    border-color: @borderStatic;
    color: @bodyColor;
    font-weight: normal;
}
.ui-button {
    .ui-button-text {
        padding: 0;
    }
}
.ui-widget {
    color: @bodyColor;
    font-family: @bodyFamily;
    font-size: @bodySize;
}
.ui-widget-header {
    .clear-area;
    color: @bodyColor;
    .ui-state-hover {
        background: @stateHover;
    }
}
.ui-widget-content {
    background: @colorLight;
    border-color: @borderOverlay;
    color: @bodyColor;
    a {
        color: @linkColor;
        &:hover {
            color: @linkColorHover;
        }
    }
}
.ui-helper-reset {
    font-size: @bodySize;
    line-height: @bodyBaseline;
}
.ui-icon {
    text-indent: 0 !important;
}


// Widgets
.ui-selectmenu-button {
    display: inline-block;
    span.ui-selectmenu-text {
        font-weight: normal;
        line-height: @bodyBaseline;
        padding: 0.5em 0.7em;
    }
    span.ui-icon:after {
        content: '\e870';
        color: @bodyColor;
        display: block;
        font-family: fontello;
        font-size: @bodySize;
        height: 16px;
        line-height: @bodyBaseline;
        width: 16px;
    }
}
.ui-menu .ui-menu-item {
    border: none;
    padding: 0.2em 0.7em;
}
.ui-datepicker {
    border-color: @borderOverlay;
    padding: @margin/2;
    .ui-datepicker-header {
        border: none;
        color: #000;
        line-height: @bodyBaseline;
        margin-bottom: @margin/2;
        padding: 0;
        position: relative;
        .ui-icon {
            display: none;
        }
        .ui-datepicker-title {
            font-weight: 300;
            margin: 0;
        }
        .ui-datepicker-next, .ui-datepicker-prev {
            cursor: pointer;
            height: 1.4em;
            // position: static;
            line-height: 1.4em;
            margin-top: -0.7em;
            // padding-top: @margin/7;
            // padding-bottom: @margin/8;
            text-align: center;
            top: 50%;
            width: 1.2rem;
            &:before {
                color: @linkColor;
                display: block;
                font-family: "fontello";
                // font-size: 12px;
                height: 100%;
                line-height: 1.4em;
                width: 100%;
            }
        }
        .ui-state-hover {
            // background: @colorHover;
            border: none;
        }
        .ui-datepicker-prev {
            left: 0;
            // padding-left: @margin/4;
            // padding-right: @margin/5;
            // top: 0;
            &:before {
                content: '\ea60';
            }
            &.ui-datepicker-prev-hover {
                left: 0;
                // top: 0;
            }
        }
        .ui-datepicker-next {
            right: 0;
            // padding-left: @margin/3;
            // padding-right: @margin/5;
            text-indent: 0.1rem;
            // top: 0;
            &:before {
                content: '\ea61';
            }
            &.ui-datepicker-next-hover {
                right: 0;
                // top: 0;
            }
        }
    }
    table.ui-datepicker-calendar {
        border-collapse: collapse;
        border-spacing: 0;
        line-height: 1;
        margin: 0;
        table-layout: fixed;
        tr {
            a, span {
                display: inline-block;
                padding: @margin/5;
            }
            td, th {
                border: 1px solid @borderStatic;
                padding: 0;
                text-align: center;
                &:first-child {
                    border-left: none;
                }
                &:last-child {
                    border-right: none;
                }
            }
            th {
                border-top: none;
            }
            td {
                a.ui-state-default {
                    // background: none;
                    border: none;
                    display: block;
                    font-weight: normal;
                    text-align: center;
                }
                &.ui-datepicker-today {
                    // background: @effectInfo;
                    a {
                        // .position(relative, @t:-1px, @l:-1px);
                        outline: 1px solid red;
                        // padding: 1px;
                    }
                }
            }
            &:last-child {
                td {
                    border-bottom: none;
                }
            }
        }
    }
}
.ui-tabs {
    .clear-area;
    .ui-tabs-nav.ui-widget-header {
        border-bottom: 1px solid @borderStatic;
        padding: 0;
        .ui-state-default {
            .box-shadow(none);
            background: none;
            border-bottom: none;
            border-color: transparent;
            &.ui-state-active {
                background: @colorLight;
                border-color: @borderStatic;
            }
        }
    }
    .ui-tabs-panel.ui-widget-content {
        background: @colorLight;
        border: 1px solid @borderStatic;
        border-top-width: 0;
        padding: @margin;
    }
}
.ui-accordion {
    .ui-accordion-header {
        &.ui-state-active {
            background: @colorLight;
            border-color: @borderStatic;
            border-bottom-color: @colorLight;
            &, +.ui-accordion-content {
                .box-shadow(none);
            }
        }
    }
    .ui-accordion-content {
        border-color: @borderStatic;
        padding: @margin/2;
    }
}


// ==========================================================
// Fixes
// ==========================================================

.row {
    .clear-fix;
}